<div class="map-container">
  <!-- ステータスバー風のヘッダー -->
  <header class="status-bar">
    <div class="status-bar-content">
      <span class="app-title">Coffee Map</span>
      <div class="status-icons">
        <button class="icon-button" aria-label="Search">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
        </button>
        <button class="icon-button" aria-label="Profile">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <!-- 地図エリア -->
  <div class="map-viewport"
       (mousedown)="onMouseDown($event)"
       (mousemove)="onMouseMove($event)"
       (mouseup)="onMouseUp()"
       (mouseleave)="onMouseLeave()"
       (wheel)="onWheel($event)"
       (touchstart)="onTouchStart($event)"
       (touchmove)="onTouchMove($event)"
       (touchend)="onTouchEnd()">
    <div class="map-content" 
         [style.transform]="'translate(' + panX() + 'px, ' + panY() + 'px) scale(' + zoomLevel() + ')'">
      <!-- SVG地図 -->
      <div class="japan-map-wrapper">
        <img class="japan-map" src="assets/japan-map.svg" alt="日本地図" draggable="false" />
      </div>
    </div>
  </div>

  <!-- フローティングコントロール -->
  <div class="floating-controls">
    <button class="floating-button location-button" aria-label="Current location">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M12 2v20M2 12h20"/>
        <circle cx="12" cy="12" r="7"/>
        <circle cx="12" cy="12" r="3" fill="currentColor"/>
      </svg>
    </button>
    
    <div class="zoom-controls">
      <button class="zoom-button" aria-label="Zoom in" (click)="zoomLevel.set(Math.min(zoomLevel() + 0.2, 3))">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor">
          <line x1="10" y1="5" x2="10" y2="15"/>
          <line x1="5" y1="10" x2="15" y2="10"/>
        </svg>
      </button>
      <button class="zoom-button" aria-label="Zoom out" (click)="zoomLevel.set(Math.max(zoomLevel() - 0.2, 0.5))">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor">
          <line x1="5" y1="10" x2="15" y2="10"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- ボトムシート風のカフェリスト -->
  <div class="bottom-sheet">
    <div class="sheet-handle"></div>
    <div class="sheet-content">
      <h2 class="sheet-title">近くのカフェ</h2>
      <div class="cafe-list">
        <div class="empty-state">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" opacity="0.3">
            <path d="M18 8h1a4 4 0 0 1 0 8h-1"/>
            <path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/>
            <line x1="6" y1="1" x2="6" y2="4"/>
            <line x1="10" y1="1" x2="10" y2="4"/>
            <line x1="14" y1="1" x2="14" y2="4"/>
          </svg>
          <p>まだカフェが登録されていません</p>
        </div>
      </div>
    </div>
  </div>
</div>
